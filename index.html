<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RFT</title>
<style>
  body { font-family: Arial; text-align: center; margin-top: 100px; }
  input { padding: 10px; width: 280px; }
  button { padding: 10px 20px; margin-left: 5px; }
  #email-msg { margin-top: 20px; display: none; }
</style>
</head>

<body>

<h2>Welcome to RFT</h2>

<input type="email" id="email-input" placeholder="Enter your email" />
<button id="submit-email">Submit</button>

<div id="email-msg"></div>

<script>
const ENDPOINT_URL = "https://script.google.com/macros/s/YOUR_SCRIPT_ID/exec";

const emailInput = document.getElementById("email-input");
const submitBtn = document.getElementById("submit-email");
const message = document.getElementById("email-msg");

function showMessage(text, color) {
  message.innerHTML = text;
  message.style.color = color;
  message.style.display = "block";
  setTimeout(() => message.style.display = "none", 4000);
}

function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

submitBtn.onclick = async () => {
  const email = emailInput.value.trim();

  if (!isValidEmail(email)) {
    showMessage("Please enter Valid email ID", "red");
    return;
  }

  submitBtn.disabled = true;

  const res = await fetch(ENDPOINT_URL, {
    method: "POST",
    body: JSON.stringify({ email }),
    headers: { "Content-Type": "application/json" }
  });

  if (res.ok) {
    showMessage(
      "Thank you for giving your email ID. Our support@rftalent.in will reach out to you.",
      "green"
    );
    emailInput.value = "";
  } else {
    showMessage("Something went wrong. Try again.", "red");
  }

  submitBtn.disabled = false;
};
</script>

</body>
</html>
