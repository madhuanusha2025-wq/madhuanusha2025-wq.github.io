<script>
const FORM_URL =
  "https://docs.google.com/forms/d/e/1mG69ODk92PQLnQBM3GjgWhO5FcTU58dYdgPhg6a0gxY/Form_Responses2";

const EMAIL_FIELD_NAME = "entry.123456789";

function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function submitEmail() {
  const input = document.getElementById("email-input");
  const msg = document.getElementById("email-msg");
  const email = input.value.trim();

  msg.style.display = "block";

  if (!isValidEmail(email)) {
    msg.style.color = "red";
    msg.textContent = "Please enter valid email ID.";
    return;
  }

  const form = document.createElement("form");
  form.method = "POST";
  form.action = FORM_URL;
  form.target = "_self";

  const field = document.createElement("input");
  field.type = "hidden";
  field.name = EMAIL_FIELD_NAME;
  field.value = email;

  form.appendChild(field);
  document.body.appendChild(form);
  form.submit();

  msg.style.color = "black";
  msg.innerHTML =
    "Thank you for giving your email ID.<br>" +
    "Our <b style='color:green'>support@rftalent.in</b> will reach out.";

  input.value = "";
}

document.getElementById("submit-email").onclick = submitEmail;
document.getElementById("email-input").onkeydown = e => {
  if (e.key === "Enter") submitEmail();
};
</script>
