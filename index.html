<script>
const FORMSPREE_URL = "https://formspree.io/f/xykevpya"; // replace

function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function submitEmail() {
  const input = document.getElementById("email-input");
  const msg = document.getElementById("email-msg");
  const email = input.value.trim();

  msg.style.display = "block";

  if (!isValidEmail(email)) {
    msg.style.color = "red";
    msg.textContent = "Please enter valid email ID.";
    return;
  }

  fetch(FORMSPREE_URL, {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Accept": "application/json"
    },
    body: JSON.stringify({ email })
  })
  .then(() => {
    msg.style.color = "black";
    msg.innerHTML =
      "Thank you for giving your email ID.<br>" +
      "Our <b style='color:green'>support@rftalent.in</b> will reach out.";
    input.value = "";
  })
  .catch(() => {
    msg.style.color = "red";
    msg.textContent = "Submission failed. Try again.";
  });
}

document.getElementById("submit-email").addEventListener("click", submitEmail);
document.getElementById("email-input").addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    submitEmail();
  }
});
</script>
