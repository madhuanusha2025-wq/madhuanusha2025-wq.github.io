<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RightFitTalent</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --rft-primary: #1f3a5f;
  --rft-secondary: #2f7d6d;
}
body {
  font-family: Arial, Helvetica, sans-serif;
  background-color: #f8fafc;
  margin: 0;
}
header {
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 24px 32px;
  border-bottom: 2px solid var(--rft-primary);
  background: #fff;
}
header img { height: 80px; }
.tagline { font-size: 14px; color: var(--rft-secondary); }

main {
  position: relative;
  max-width: 960px;
  margin: 40px auto;
  padding: 40px;
  background: #fff;
}

#email-box {
  position: absolute;
  top: 20px;
  right: 20px;
  width: 300px;
  padding: 16px;
  border: 1px solid #e5e7eb;
  background: #fff;
  border-radius: 6px;
}
#email-input {
  width: 100%;
  padding: 8px;
  margin-bottom: 8px;
}
#submit-email {
  width: 100%;
  padding: 8px;
  background: var(--rft-secondary);
  border: none;
  color: #fff;
  cursor: pointer;
}
#email-msg {
  margin-top: 10px;
  font-size: 12px;
  display: none;
}
</style>
</head>

<body>

<header>
  <img src="RFTlogo.png" alt="RightFitTalent Logo">
  <p class="tagline">Always Good To Hold The Right Position By Right Person</p>
</header>

<main>

<div id="email-box">
  <h4>Email Registration</h4>
  <input type="text" id="email-input" placeholder="Enter your email ID here">
  <button id="submit-email">Submit</button>
  <div id="email-msg"></div>
</div>

<section>
  <h2>What RightFitTalent Is</h2>
  <p><strong>RightFitTalent is a selective engagement initiative.</strong></p>
  <p>We work at the intersection of employers and talent where fit truly matters.</p>
  <p>If alignment is missing, we prefer not to proceed.</p>
</section>

</main>

<script>
/* ================= CONFIG ================= */
const ENDPOINT_URL =
  "https://script.google.com/macros/s/AKfycbwkeWhCJRUEwHwURs4-4KQaQ-fIXLblKYunBje78Fc79EycJFbauprz3phC9J-kKgJU/exec";

/* ============ HIDDEN TRANSPORT ============ */
const iframe = document.createElement("iframe");
iframe.name = "hiddenFrame";
iframe.style.display = "none";
document.body.appendChild(iframe);

const form = document.createElement("form");
form.method = "POST";
form.action = ENDPOINT_URL;
form.target = "hiddenFrame";

const emailField = document.createElement("input");
emailField.type = "hidden";
emailField.name = "email";

form.appendChild(emailField);
document.body.appendChild(form);

/* ============ LOGIC ============ */
function isValidEmail(email) {
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
}

function submitEmail() {
  const input = document.getElementById("email-input");
  const msg = document.getElementById("email-msg");
  const email = input.value.trim();

  msg.style.display = "block";

  if (!isValidEmail(email)) {
    msg.style.color = "red";
    msg.textContent = "Please enter valid email ID.";
    hideMessage();
    return;
  }

  emailField.value = email;
  form.submit(); // âœ… ACTUAL SEND

  msg.style.color = "black";
  msg.innerHTML =
    "Thank you for giving your email ID.<br>" +
    "Our <b style='color:green'>support@rftalent.in</b> will reach out.";

  input.value = "";
  hideMessage();
}

function hideMessage() {
  setTimeout(() => {
    document.getElementById("email-msg").style.display = "none";
  }, 3000);
}

/* ============ EVENTS ============ */
document.getElementById("submit-email").addEventListener("click", submitEmail);
document.getElementById("email-input").addEventListener("keydown", e => {
  if (e.key === "Enter") {
    e.preventDefault();
    submitEmail();
  }
});
</script>

</body>
</html>
